schema: '2.0'
stages:
  prepare:
    cmd: uv run src/prepare.py data/raw
    deps:
    - path: data/raw
      hash: md5
      md5: 0c4677b470c0005e387d356576def49d.dir
      size: 38526262370
      nfiles: 19
    params:
      params.yaml:
        mlflow.experiment_name: test_air
        mlflow.tracking_uri: http://127.0.0.1:5000
        prepare.adjustment.attempted: false
        prepare.adjustment.tool_separate: false
        prepare.dataset: CICIDS2017_improved
        prepare.sampling: None
        prepare.sampling_params.method: None
        prepare.sampling_params.params:
          sampling_strategy: not minority
          min_samples: 100
          neighbors: 3
          seed: 42
        prepare.test_size: 0.3
    outs:
    - path: data/prepared/
      hash: md5
      md5: 6d61d890961544580bbd5eb2df91887e.dir
      size: 204502524
      nfiles: 3
    - path: logs/prepare.log
      hash: md5
      md5: 67bd8a661d422d76b226830dcfee812c
      size: 295
  train:
    cmd: uv run src/train.py --no-offline
    deps:
    - path: data/prepared/train
      hash: md5
      md5: b818cc04282a198a628fe2ea8cd23f7c.dir
      size: 143197362
      nfiles: 1
    - path: src/classifier
      hash: md5
      md5: 4bb5dea64a5efb7e160a6c909e11c4ae.dir
      size: 4141
      nfiles: 2
    - path: src/train.py
      hash: md5
      md5: fdba8e5e2a7ae372c2454dd3f61de42e
      size: 2061
    params:
      params.yaml:
        mlflow.experiment_name: test_air
        mlflow.tracking_uri: http://127.0.0.1:5000
        train.classifier.model: ImprovedC45
        train.classifier.params.max_depth: 10
    outs:
    - path: data/models
      hash: md5
      md5: 69aaa3286552c8ffb76bad7050e328f4.dir
      size: 58997
      nfiles: 1
    - path: logs/train.log
      hash: md5
      md5: 078d4a17cd581875549c5bb24cabf287
      size: 278
  evaluate:
    cmd: uv run src/evaluate.py --no-offline
    deps:
    - path: data/prepared/test
      hash: md5
      md5: e8caf2395bf4434b679f13ea0be88742.dir
      size: 61305162
      nfiles: 2
    - path: src/classifier
      hash: md5
      md5: 4bb5dea64a5efb7e160a6c909e11c4ae.dir
      size: 4141
      nfiles: 2
    - path: src/evaluate.py
      hash: md5
      md5: 23cf9842471cfc534aa8b4740d1918c9
      size: 4533
    params:
      params.yaml:
        mlflow.experiment_name: test_air
        mlflow.tracking_uri: http://127.0.0.1:5000
    outs:
    - path: evaluate
      hash: md5
      md5: e6be01d2d2e8fc13f843aee6045e780d.dir
      size: 18125
      nfiles: 3
    - path: logs/evaluate.log
      hash: md5
      md5: 41768be2ca677d175b3c238fd994a3b0
      size: 193
  check:
    cmd: uv run src/check.py data/raw
    deps:
    - path: data/raw
      hash: md5
      md5: 0c4677b470c0005e387d356576def49d.dir
      size: 38526262370
      nfiles: 19
    - path: src/check.py
      hash: md5
      md5: 15d011a616646cdfb4ad303fe957f92f
      size: 1753
    params:
      params.yaml:
        mlflow.experiment_name: test_air
        mlflow.tracking_uri: http://127.0.0.1:5000
        prepare.dataset: CICIDS2017_improved
    outs:
    - path: check/
      hash: md5
      md5: b771fe7b13ad430f80961007bfd0438b.dir
      size: 654
      nfiles: 1
    - path: logs/check.log
      hash: md5
      md5: 2c40db02b8c5217f7831abf915e76033
      size: 219
